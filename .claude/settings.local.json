{
  "permissions": {
    "allow": [
      "Bash(ffprobe:*)",
      "Bash(ffmpeg:*)",
      "Bash(where:*)",
      "Bash(python -m venv:*)",
      "Bash(\"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\.venv\\\\Scripts\\\\pip.exe\" install pyttsx3 pysubs2 pydub)",
      "Bash(winget install:*)",
      "Bash(export PATH=\"/c/Users/Brandon-Desktop/AppData/Local/Microsoft/WinGet/Links:$PATH\")",
      "Bash(FFPROBE=\"/c/Users/Brandon-Desktop/AppData/Local/Microsoft/WinGet/Packages/Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe/ffmpeg-8.0.1-full_build/bin/ffprobe.exe\")",
      "Bash(\"$FFPROBE\" -v error -show_entries stream=index,codec_name,codec_type -show_entries stream_tags=language,title,NUMBER_OF_FRAMES -select_streams s -of json \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\[SNSbu] Fate kaleid liner Prisma☆Illya - 01 \\(BD 1920x1080 h264 FLAC\\).mkv\")",
      "Bash(\"$FFPROBE\" -v error -show_entries format=duration -of default=noprint_wrappers=1:nokey=1 \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\[SNSbu] Fate kaleid liner Prisma☆Illya - 01 \\(BD 1920x1080 h264 FLAC\\).mkv\")",
      "Bash(\"$FFPROBE\" -v error -show_entries stream=index,codec_name,codec_type -show_entries stream_tags=language,title -of json \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\[SNSbu] Fate kaleid liner Prisma☆Illya - 01 \\(BD 1920x1080 h264 FLAC\\).mkv\")",
      "Bash(\"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\.venv\\\\Scripts\\\\python.exe\" -c \"\nimport pyttsx3\nengine = pyttsx3.init\\(\\)\nvoices = engine.getProperty\\(''voices''\\)\nfor v in voices:\n    print\\(f''{v.id} | {v.name}''\\)\nengine.stop\\(\\)\n\")",
      "Bash(\"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\.venv\\\\Scripts\\\\python.exe\" \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\paparapa_tts.py\" \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\[SNSbu] Fate kaleid liner Prisma☆Illya - 01 \\(BD 1920x1080 h264 FLAC\\).mkv\")",
      "Bash(\"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\.venv\\\\Scripts\\\\python.exe\" -c:*)",
      "Bash(FFMPEG=\"/c/Users/Brandon-Desktop/AppData/Local/Microsoft/WinGet/Packages/Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe/ffmpeg-8.0.1-full_build/bin/ffmpeg.exe\":*)",
      "Bash(\"$FFMPEG\" -y -v error -ss 00:11:00 -i \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\[SNSbu] Fate kaleid liner Prisma☆Illya - 01 \\(BD 1920x1080 h264 FLAC\\).mkv\" -t 00:05:00 -map 0 -c copy \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\test_clip.mkv\")",
      "Bash(\"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\.venv\\\\Scripts\\\\python.exe\" -c \"\nimport pysubs2\n\n# Windows path for the extracted subs\nsubs = pysubs2.load\\(r''C:\\\\Users\\\\Brandon-Desktop\\\\AppData\\\\Local\\\\Temp\\\\debug_subs.ass''\\)\n\ncount = 0\nfor i, line in enumerate\\(subs\\):\n    if line.is_comment:\n        continue\n    text = line.plaintext.strip\\(\\)\n    if not text:\n        continue\n    start_s = line.start / 1000\n    end_s = line.end / 1000\n    dur = end_s - start_s\n    print\\(f''[{i:4d}] {start_s:7.1f}s - {end_s:7.1f}s \\({dur:5.1f}s\\) | {repr\\(text[:80]\\)}''\\)\n    count += 1\n    if count >= 30:\n        break\n\nprint\\(f''\\\\n--- Total non-comment, non-empty events: '', end=''''\\)\ntotal = sum\\(1 for l in subs if not l.is_comment and l.plaintext.strip\\(\\)\\)\nprint\\(total\\)\n\")",
      "Bash(\"$FFMPEG\" -y -v error -i \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\[SNSbu] Fate kaleid liner Prisma☆Illya - 01 \\(BD 1920x1080 h264 FLAC\\)_tts.mkv\" -map 0:a:1 -t 120 \"C:\\\\Users\\\\Brandon-Desktop\\\\AppData\\\\Local\\\\Temp\\\\tts_track_extract.wav\")",
      "Bash(\"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\.venv\\\\Scripts\\\\python.exe\" -c \"\nimport numpy as np\nimport wave\n\nwith wave.open\\(r''C:\\\\Users\\\\Brandon-Desktop\\\\AppData\\\\Local\\\\Temp\\\\tts_track_extract.wav'', ''rb''\\) as wf:\n    rate = wf.getframerate\\(\\)\n    frames = wf.getnframes\\(\\)\n    channels = wf.getnchannels\\(\\)\n    raw = wf.readframes\\(frames\\)\n\nsamples = np.frombuffer\\(raw, dtype=np.int16\\)\nprint\\(f''Sample rate: {rate}, Channels: {channels}, Total samples: {len\\(samples\\)}, Duration: {len\\(samples\\)/rate:.1f}s''\\)\nprint\\(f''Min: {samples.min\\(\\)}, Max: {samples.max\\(\\)}, Mean: {samples.mean\\(\\):.2f}''\\)\nprint\\(f''Non-zero samples: {np.count_nonzero\\(samples\\)} / {len\\(samples\\)} \\({np.count_nonzero\\(samples\\)/len\\(samples\\)*100:.2f}%\\)''\\)\n\n# Check for audio in 10-second windows\nfor start_sec in range\\(0, 120, 10\\):\n    start_idx = start_sec * rate\n    end_idx = min\\(\\(start_sec + 10\\) * rate, len\\(samples\\)\\)\n    chunk = samples[start_idx:end_idx]\n    rms = np.sqrt\\(np.mean\\(chunk.astype\\(np.float64\\)**2\\)\\)\n    nonzero_pct = np.count_nonzero\\(chunk\\) / len\\(chunk\\) * 100\n    print\\(f''  {start_sec:3d}s-{start_sec+10:3d}s: RMS={rms:8.1f}, non-zero={nonzero_pct:.1f}%''\\)\n\")",
      "Bash(\"$FFPROBE\" -v error -show_entries stream=index,codec_name,codec_type -show_entries stream_tags=language,title -select_streams s -of json \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\test_clip.mkv\")",
      "Bash(\"$FFMPEG\" -y -v error -i \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\test_clip_tts.mkv\" -map 0:a:1 \"C:\\\\Users\\\\Brandon-Desktop\\\\AppData\\\\Local\\\\Temp\\\\test_tts_extract.wav\")",
      "Bash(\"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\.venv\\\\Scripts\\\\python.exe\":*)",
      "Bash(\"$FFMPEG\" -y -v error -i \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\test_clip_tts.mkv\" -map 0:a:1 \"C:\\\\Users\\\\Brandon-Desktop\\\\AppData\\\\Local\\\\Temp\\\\test_tts_extract2.wav\")",
      "Bash(\"$FFMPEG\" -y -v error -i \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\test_clip_tts.mkv\" -map 0:a:1 \"C:\\\\Users\\\\Brandon-Desktop\\\\AppData\\\\Local\\\\Temp\\\\test_tts_extract3.wav\")",
      "Bash(\"$FFPROBE\" -v error -show_entries stream=index,codec_name,codec_type,channels -show_entries stream_tags=language,title -of json \"C:\\\\Users\\\\Brandon-Desktop\\\\source\\\\repos\\\\paparapa_tts\\\\test_clip_tts.mkv\")"
    ]
  }
}
